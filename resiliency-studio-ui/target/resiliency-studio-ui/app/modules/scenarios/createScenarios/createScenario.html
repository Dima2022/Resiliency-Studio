<!-- 
 BSD License
    
  Copyright (c) 2017, AT&T Intellectual Property.  All other rights reserved.
    
  Redistribution and use in source and binary forms, with or without modification, are permitted
  provided that the following conditions are met:
    
  1. Redistributions of source code must retain the above copyright notice, this list of conditions
     and the following disclaimer.
  2. Redistributions in binary form must reproduce the above copyright notice, this list of
     conditions and the following disclaimer in the documentation and/or other materials provided
     with the distribution.
  3. All advertising materials mentioning features or use of this software must display the
     following acknowledgement:  This product includes software developed by the AT&T.
  4. Neither the name of AT&T nor the names of its contributors may be used to endorse or
     promote products derived from this software without specific prior written permission.
   
  THIS SOFTWARE IS PROVIDED BY AT&T INTELLECTUAL PROPERTY ''AS IS'' AND ANY EXPRESS OR
  IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF
  MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT
  SHALL AT&T INTELLECTUAL PROPERTY BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
  SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;  LOSS OF USE, DATA, OR PROFITS;
  OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
  CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN
  ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH
  DAMAGE.

 -->
<div class="row cells12">
    <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
        <ul class="breadcrumbs dark">
            <li><a href="#/dashboard"><span class="icon mif-home"></span></a></li>
            <li>Create Scenario</li>
        </ul>
    </div>
</div>

<div>
    <div class="row cells12">
        <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
            <div class="panel " data-role="panel">
                <div class="heading bg-grayLight">
                    <span class="icon mif-alarm  bg-gray"></span> <span class="title">Create
						Scenario</span>
                </div>

                <div class="content bg-white">
                    <div class="container">
                        <div class="alert alert-success alert-dismissable" ng-show="successAlert" style="margin-left: 3%;">
                            <a class="close" data-hide="alert" aria-label="close">&times;</a> Scenario(s) created successfully for <strong>{{scenariosFilterModel.id}}</strong>
                            <button id="clickView1" class="closed" ng-click="gotoViewScenario()">View Scenarios</button>
                            <a href="#/executeScenario" class="closed">Execute Scenarios</a>
                        </div>
                        <div class="alert alert-danger alert-dismissable" ng-show="showerrorAlert" style="margin-left: 3%;">
                            <a class="close" data-hide="alert" aria-label="close">&times;</a>
                            <strong>Oops</strong> {{errorMessage}}

                        </div>
                        <form role="form" name="addScenarioForm" id="my-form" ng-submit="submitMyForm()" novalidate>


                            <div class="">
                                <ul class="timeline">
                                    <li>
                                        <div class="timeline-badge">1</div>
                                        <div class="timeline-panel">
                                            <div class="timeline-body">
                                                <div id="application-level" class="row">
                                                    <div class="col-md-5 col-md-custom" data-role="input">
                                                        <label for="applicationListDiv">Application Name*</label>
                                                        <div class="select" ng-disabled="AutoDiscoveryON">
                                                            <div name="applicationName" id="applicationListDiv" ng-dropdown-multiselect='' options='scenariosFilterData' button-label='Applications' selected-model='scenariosFilterModel' extra-settings='scenariosFilterSettings' translation-texts='scenariosFilterCustomTexts'
                                                                events="{onItemSelect:applicationChange}" title="{{scenariosFilterModel.id}}"></div>
                                                        </div>
                                                    </div>

                                                    <div class="col-md-5 col-md-custom">
                                                        <div class="form-group">
                                                            <label for="environmentSelect">Environment*</label> <select id="environmentSelect" name="environmentName" class="form-control" ng-model="appfields.environmentName" required ng-options="x as x.name  for (key,x) in environmentMap"
                                                                required>
																<option value="" disabled selected hidden>Select Environment</option>

															</select>
                                                        </div>
                                                    </div>
                                                    
                                                    <div class="col-md-2 paddingTop20">
                                                        <a class="btn icon-btn btn-success" id="btnAutoDicovery" ng-click="viewAutoDiscovery()" ng-disabled="autoDiscoveryEnable() || AutoDiscoveryON">
                                                            <span class="glyphicon btn-glyphicon glyphicon-search img-circle text-success"></span>Auto Discovery
                                                        </a>
                                                    </div>
                                                    
                                                </div>
                                               <div class="row">
                                                    <div class="col-md-6">
                                                        <div class="form-group">
                                                            <div id="category" ng-repeat="env in scenarioObjList" ng-if="$first">
                                                                <label for="txtCategory">Category</label> <input id="txtCategory" type="text" class="form-control" ng-model="env.category" disabled>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <!-- <br />
                                                    <br />
                                                    <div class="col-md-6 pull-right text-center">
                                                        <a class="btn icon-btn btn-success" ng-click="viewAutoDiscovery()" ng-disabled="autoDiscoveryEnable() || AutoDiscoveryON">
                                                            <span class="glyphicon btn-glyphicon glyphicon-search img-circle text-success"></span>Auto Discovery
                                                        </a>
                                                    </div> -->
                                                </div> 



                                            </div>
                                        </div>
                                    </li>



                                    <li>
                                        <div class="timeline-badge" class="form-group" ng-show="show">2</div>
                                        <div class="timeline-panel" class="form-group" ng-show="show">

                                            <div class="timeline-body">


                                                <div>
                                                    <div class="row">
                                                        <div class="col-md-6">
                                                            <div class="form-group">
                                                                <label for="serverName">Server Name*</label> <select id="serverName" name="serverName" class="form-control" ng-model="appfields.serverName" ng-change="defaultValue()" required ng-options="value as value.instanceName  for (key,value) in appfields.environmentName.serverList">

																</select>


                                                            </div>

                                                        </div>
                                                        <div class="col-md-6">
                                                            <div class="form-group">
                                                                <label for="role">Role</label> <select id="role" name="Role" class="form-control" ng-model="appfields.role">
																	<option ng-repeat="x in appfields.serverName.roles">{{x}}</option>
																</select>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </li>
                                    <li>
                                        <div class="timeline-badge" class="form-group" ng-show="show">3</div>
                                        <div class="timeline-panel" class="form-group" ng-show="show">

                                            <div class="timeline-body">


                                                <div class="row">
                                                    <div class="col-md-6">
                                                        <div class="form-group">
                                                            <label for="failureTelnetSelect">Failure Tenet*</label> <select id="failureTelnetSelect" class="form-control" ng-model="appfields.failureTenet" required>
																<option value="" disabled selected hidden>Select
																									Failure Tenet</option>
																<option ng-repeat="x in scenarios.failureTenet">{{x}}</option>
															</select>
                                                        </div>

                                                    </div>
                                                    <div class="col-md-6">
                                                        <label class="control-label" for="failureMode">Failure
															Mode*</label> <input class="form-control" name="failureMode" ng-pattern="/^[a-zA-Z0-9-():/&.,_\s]*$/" ng-model="appfields.failureMode" id="failureMode" placeholder="Enter Failure Mode"
                                                            type="text" required>

                                                    </div>

                                                </div>
                                                <br>
                                               <div class="panel panel-default sequence-panel">
												  <div class="panel-heading"><label class="control-label">Execution sequence*</label></div>
												  <div class="panel-body">
												<!-- <div class="row">
                                                        <div class="col-md-3 customWidth-md-3">
                                                            <label for="monkeyTypeScn">Monkey Type*</label>
                                                        </div>
                                                        <div class="col-md-3 customWidth-md-3">
                                                            <label for="monkeyStrategyScn">Monkey Strategy*</label>
                                                        </div>
                                                        <div class="col-md-3 customWidth-md-3">
                                                            <label for="monkeyDelay">Sequence*</label>
                                                        </div>
                                                       
                                                    </div> -->
                                                <div id="monkeyWrapper">
                                                    
                                                    <div id="monkeys{{$index}}"  data-index="{{$index}}" ng-repeat="mStrategy in appfields.strategies track by $index" class="test" data-order="{{mStrategy.execSequence}}">
                                                        <div class="row monkeyContainer" ng-if="!mStrategy.removed">
                                                            <div class="col-md-4">
                                                                <div class="form-group">
                                                                    <select class="form-control" name="monkeyTypescn" id="monkeyTypeScn{{$index}}" ng-change="selectedMonkeyType($event,{{$index}})" ng-model="mStrategy.monkeyType" required>
																<option value="" disabled selected hidden>Select Monkey Type</option>
																<option ng-repeat="monkey in monkeys1">{{monkey}}</option>
															</select>
                                                                </div>
                                                            </div>
                                                            <div class="col-md-4">
                                                                
																<div class="form-group">
																	 <select id="monkeyStrategyScn{{$index}}"
																	 ng-disabled="!mStrategy.enableMonkeyType"
																		name="monkeyStrategyScn" class="form-control"
																		 ng-change="selectedMonkeyStrategyScn($event,{{$index}})" ng-model="mStrategy.monkeyStrategyId" required>
																		<option value="" disabled selected hidden>Select Monkey Strategy</option>
																		<option ng-repeat="monkeyType in mStrategy.monkeyTypeList" value="{{monkeyType.id}}">{{monkeyType.monkeyStrategyName}}</option>
																	</select>
																</div>
															</div>
                                                            <div class="col-md-3">
                                                                <div class="form-group">
                                                                    <select id="monkeyDelay{{$index}}" ng-disabled="!mStrategy.enableDelay" name="monkeyDelay" class="form-control monkey-delay" ng-options="act for act in activities" ng-change="delayChange();sortMonkeys();OutOfFocus()" ng-model="mStrategy.execSequence" required>
																	<option value="" disabled selected hidden>Select Sequence</option>
																</select>

                                                                </div>
                                                            </div>
                                                            <div class="col-md-1" style="padding: 0">
                                                            <div class="" id="btnAddMonkey" style="float: left;width:30px">
                                                                <a class="btn btn-delete-panel-SC" ng-click="addMonkeys1(appfields,$index);OutOfFocus()" id="addMonk{{$index}}"><span
														class="glyphicon btn-glyphicon glyphicon-plus img-circle text-success"></span></a>

                                                            </div>
                                                            <div class="" id="btnDeleteMonkey" style="float: left">
                                                            
                                                                <a class="btn btn-delete-panel-SC" ng-disabled="appfields.strategies.length == 1" ng-click="removeMonkeys(appfields,$index);OutOfFocus()" id="deleteMonk{{$index}}"><span
														class="glyphicon btn-glyphicon glyphicon-minus img-circle text-warning"></span></a>

                                                            </div>
															</div>
                                                        </div>
                                                    </div>
                                                </div>
                                                </div>
                                                </div>
                                                </div>

                                                <br>
                                                 <!-- <div class="row">
                                                    <div class="col-xs-12 col-md-12">
                                                        <div class="pull-right marginB10">
                                                            <a class="btn icon-btn btn-success" id="sortBySeq" ng-click="sortMonkeys($event)" ng-disabled="exeDelsy"><span
																class="glyphicon btn-glyphicon glyphicon-arrow-up img-circle text-success"></span>Sort by Sequence</a>

                                                            <a class="btn icon-btn btn-success" id="addMonkeyBtn" ng-click="addMonkeys(appfields)"><span
																class="glyphicon btn-glyphicon glyphicon-plus img-circle text-success"></span>Add Monkey</a>
                                                        </div>
                                                    </div>
                                                    <div class="clearfix"></div>
                                                </div> -->
                                                
                                                <div class="row">
                                                    <div class="col-md-6">
                                                        <div class="form-group">
                                                            <label for="component">Software Component Name</label> <select id="component" name="component" class="form-control" ng-change="changeProcessName()" ng-model="appfields.softwareComponentName.serverComponentName" ng-options="value as value.serverComponentName  for (key,value) in appfields.serverName.swComps">
															</select>
                                                        </div>
                                                    </div>
                                                    <div class="col-md-6">
                                                        <label for="processNameText">Process Name</label> <input ng-disabled="true" type="text" ng-model="appfields.softwareComponentName.processName" class="form-control" id="processNameText">
                                                    </div>
                                                </div>


                                                <div class="row">
                                                    <div class="col-md-6">
                                                        <label for="version">Version</label> <input class="form-control" name="version" ng-pattern="/^[a-zA-Z0-9-():/&.,_\s]*$/" ng-model="appfields.version" id="version" placeholder="1.0" type="text" readonly="readonly">
                                                    </div>
                                                    <!-- <div class="col-md-6">
                                                        <label for="path">Path</label> <input class="form-control" name="path" ng-pattern="/^[a-zA-Z0-9-():/&.,_\s]*$/" ng-model="appfields.filePath" id="path" placeholder="/tmp/" type="text">
                                                    </div> -->
                                                </div>
                                                <div class="row">
                                                    <div class="col-md-12">
                                                        <div class="form-group" id="scenarioNameToDisplay">
                                                            <label for="name">Scenario Name</label> <input type="text" value="{{scenariosFilterModel.id}}.{{appfields.environmentName.name}}.{{appfields.tierName.name}}.{{appfields.serverName.instanceName}}.{{appfields.softwareComponentName.serverComponentName.serverComponentName}}.{{appfields.softwareComponentName.serverComponentName.processName}}.{{appfields.failureTenet}}.{{appfields.failureMode}}.1.0"
                                                                class="form-control" id="name" disabled>

                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="row">
                                                    <div class="col-md-6">
                                                        <label for="userBehavior">User Behavior</label>
                                                        <textarea class="form-control" ng-model="appfields.userBehavior" name="userBehavior" id="userBehavior" placeholder="Enter User Behavior" rows="5"></textarea>
                                                    </div>
                                                    <div class="col-md-6">
                                                        <label for="systemBehavior">System behavior</label>
                                                        <textarea class="form-control" ng-model="appfields.systemBehavior" name="systemBehavior" id="systemBehavior" placeholder="Enter System behavior" rows="5"></textarea>
                                                    </div>
                                                </div>
                                                <div class="row">
                                                    <div class="col-md-6">
                                                        <label for="causeOfFailure">Potential Cause of
															Failure</label>
                                                        <textarea class="form-control" name="causeOfFailure" ng-model="appfields.causeOfFailure" id="causeOfFailure" placeholder="Enter Potential Cause of Failure" rows="5"></textarea>
                                                    </div>
                                                    <div class="col-md-6">
                                                        <label for="currentControls">Current Controls</label>
                                                        <textarea class="form-control" name="currentControls" ng-model="appfields.currentControls" id="currentControls" placeholder="Enter Current Controls" rows="5"></textarea>
                                                    </div>
                                                </div>
                                                <div class="row">
                                                    <div class="col-md-6">
                                                        <label for="detectionMechanism">Detection
															Mechanism</label>
                                                        <textarea class="form-control" name="detectionMechanism" ng-model="appfields.detectionMechanism" id="detectionMechanism" placeholder="Enter Detection Mechanism" rows="5"></textarea>
                                                    </div>
                                                    <div class="col-md-6">
                                                        <label for="recoveryMechanism">Recovery Mechanism</label>
                                                        <textarea class="form-control" name="recoveryMechanism" ng-model="appfields.recoveryMechanism" id="recoveryMechanism" placeholder="Enter Recovery Mechanism" rows="5"></textarea>
                                                    </div>
                                                </div>
                                                <div class="row">
                                                    <div class="col-md-6">
                                                        <label for="recommendations">Recommendations</label>
                                                        <textarea class="form-control" name="recommendations" ng-model="appfields.recommendations" id="recommendations" placeholder="Enter Recommendations" rows="5"></textarea>
                                                    </div>
                                                    <div class="col-md-6">
                                                        <label for="mttd">MTTD</label> <input class="form-control" name="mttd" ng-pattern="/^[0-9]+(\.[0-9]{1,2})?$/" ng-model="appfields.mttd" id="mttd" placeholder="Enter MTTD" type="text">
                                                        <p ng-show="addScenarioForm.mttd.$invalid && !addScenarioForm.mttd.$pristine">*Invalid MTTD
                                                        </p>
                                                        <br /> <label for="mttr">MTTR</label> <input class="form-control" name="mttr" ng-pattern="/^[0-9]+(\.[0-9]{1,2})?$/" ng-model="appfields.mttr" id="mttr" placeholder="Enter MTTR" type="text">
                                                        <p ng-show="addScenarioForm.mttr.$invalid && !addScenarioForm.mttr.$pristine">*Invalid MTTR
                                                        </p>
                                                        <br />
                                                    </div>
                                                </div>

                                                <div class="row">
                                                    <div class="col-xs-12 col-md-12">
                                                        <ul class="list-inline pull-right">
                                                            <li><button class="btn btn-warning btn-info-full" type="button" ng-click="resetForm()" ng-disabled="addScenarioForm.environmentName.$invalid && addScenarioForm.serverName.$invalid">Reset</button></li>
                                                            <li><button id="submitButton" class="btn btn-primary" ng-disabled="addScenarioForm.$pristine  || addScenarioForm.$invalid || submitBtn" type="submit">Submit</button></li>

                                                        </ul>
                                                        <div class="clearfix"></div>
                                                    </div>
                                                </div>

                                                <li>
                                                    <div class="headingPanel" ng-show="hide" id="rolePanel">
                                                        <div class="timeline-body heading bg-grayLight">
                                                            <div class="heading bg-grayLight">
                                                                <span class="bg-grayLight"> </span> <span class="title"><font
																	color="white">Scenarios Discovered</font> </span>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </li>

                                                <li>
                                                    <div class="timeline-badge" ng-show="hide">2</div>

                                                    <div class="timeline-panel" ng-show="hide" id="rolePanel">
                                                        <span class="glyphicon" id="MetricsSummary">MetricsSummary</span>
                                                        <div class="timeline-body">
                                                            <div class="panel-group">
                                                                <div class="col-md-12">
                                                                    <div class="col-md-4">
                                                                        <div id="greenCircle" class="circle">
                                                                            <span class="circleText greenCircleTEXT"><font
																				color="white">Role</font> </span> <span class="circleText greenNumberText"><font
																				color="white">{{roleCount}}</font></span>
                                                                        </div>
                                                                    </div>

                                                                    <div class="col-md-4">
                                                                        <div id="orangeCircle" class="circle">
                                                                            <span class="circleText orangeCircleTEXT"><font
																				color="white">Servers</font></span> <span class="circleText orangeNumberText"><font
																				color="white">{{serverCount}}</font></span>
                                                                        </div>
                                                                    </div>

                                                                    <div class="col-md-4">
                                                                        <div id="bluecircle" class="circle">
                                                                            <span class="circleText blueCircleTEXT"><font
																				color="white">Scenarios</font></span> <span class="circleText blueNumberText"><font
																				color="white">{{scenarioCount}}</font></span>
                                                                        </div>
                                                                    </div>

                                                                </div>

                                                            </div>
                                                        </div>
                                                    </div>
                                                </li>


                                                <!-- Data grid table start -->
                                                <li>
                                                    <div class="timeline-badge" ng-show="hide">3</div>

                                                    <div class="timeline-panel" ng-show="hide" id="rolePanel">
                                                        <span ng-show="MDpanel" role="button" data-target="#demo" class="glyphicon glyphicon-plus-sign" data-toggle="collapse" ng-click="metricspanel()">&nbsp;MetricsDetails</span>
                                                        <span ng-hide="MDpanel" role="button" data-target="#demo" class="glyphicon glyphicon-minus-sign" data-toggle="collapse" ng-click="metricspanel()">&nbsp;MetricsDetails</span>
                                                        <div id="demo" class="collapse">

                                                            <div class="timeline-body">

                                                                <table id="summaryGridTable" class="table table-bordered table-striped table-hover">
                                                                    <thead>
                                                                        <tr>
                                                                            <th class="col-md-1">Sl.No</th>
                                                                            <th class="col-md-1">Role</th>
                                                                            <th class="col-md-2">Server Count</th>
                                                                            <th class="col-md-2">Total Scenario Count</th>


                                                                        </tr>
                                                                    </thead>
                                                                    <tbody>
                                                                        <tr ng-repeat="env in summaryObjList" ng-class-odd="'alt'">
                                                                            <td>{{$index+1}}</td>
                                                                            <td>{{env.role}}</td>
                                                                            <td>{{env.serverCount}}</td>
                                                                            <td>{{env.scenarioCount}}</td>

                                                                        </tr>
                                                                    </tbody>
                                                                </table>




                                                            </div>
                                                        </div>
                                                    </div>
                                                </li>

                                                <!-- Data grid table End -->


                                                <li>
                                                    <div class="timeline-badge" ng-show="hide">4</div>


                                                    <div class="timeline-panel" ng-show="hide" id="autoDiscovery">
                                                        <span ng-show="SDpanel" role="button" data-target="#demo1" class="glyphicon glyphicon-plus-sign" data-toggle="collapse" ng-click="serverpanel()">&nbsp;ScenarioDetails</span>
                                                        <span ng-hide="SDpanel" role="button" data-target="#demo1" class="glyphicon glyphicon-minus-sign" data-toggle="collapse" ng-click="serverpanel()">&nbsp;ScenarioDetails</span>
                                                        <div id="demo1" class="collapse">

                                                            <button id="backBtn" type="button" class="pull-right marginB10" ng-click="goBack()">Back</button>
                                                            <br>
                                                            <br>


                                                            <div class="timeline-body">

                                                                <div id="application-level" class="row">

                                                                    <div class="col-md-12">

                                                                        <div id="scenarioList">

                                                                            <table id="autoDiscoveryTable" class="table table-bordered table-striped table-hover">
                                                                                <thead>
                                                                                    <tr ng-show="filterTr">
                                                                                        <td class="col-md-1"><label><button
																									type="button" class="close"
																									title="close filter" ng-click="closeFilter()">&times;</button></label></td>
                                                                                        <td class="col-md-1"></td>
                                                                                        <td class="col-md-1"><input ng-model="search.serv" ng-change="clearServer()" class="input-block-level"></td>
                                                                                        <td class="col-md-1"><input ng-model="search.softwareComponentName" ng-change="clearSfComp()" class="input-block-level"></input>
                                                                                        </td>
                                                                                        <td class="col-md-1"><input ng-model="search.role" ng-change="clearRole()" class="input-block-level"></input>
                                                                                        </td>
                                                                                        <td class="col-md-1"><input ng-model="search.processName" ng-change="clearProcessName()" class="input-block-level"></input>
                                                                                        </td>
                                                                                        <td class="col-md-1"><input ng-model="search.failureMode" ng-change="clearFailureMode()" class="input-block-level"></input>
                                                                                        </td>
                                                                                        <td class="col-md-1"><input ng-model="search.failureTenet" ng-change="clearFailureTenet()" class="input-block-level"></input>
                                                                                        </td>
                                                                                        <td class="col-md-1"></td>
                                                                                    </tr>
                                                                                    <tr>
                                                                                        <th class="col-md-1"><a ng-click="showFilter()"><span
																								class="glyphicon glyphicon-filter"
																								title="Click To Filter On"> </span></a></th>
                                                                                        <th class="col-md-2">Sl.No</th>
                                                                                        <th class="col-md-4">Server Name</th>
                                                                                        <th class="col-md-3">Component</th>
                                                                                        <th class="col-md-3">Role</th>
                                                                                        <th class="col-md-3">Process Name</th>
                                                                                        <th class="col-md-4">Failure Mode</th>
                                                                                        <th class="col-md-3">Failure Tenet</th>
                                                                                        <th class="col-md-3">Monkey Strategy</th>

                                                                                    </tr>
                                                                                </thead>
                                                                                
                                                                                <tbody>
                                                                                    <tr ng-repeat-start="env in scenarioObjList  | filter:search" ng-class-odd="'alt'">
                                                                                        <td class="col-md-3 col-xs-6 small"><span title="Click to expand/collapse" class="btn btn-default btn-xs" ng-click="showDetail($index)"><span
																								ng-hide="active==$index"
																								class="glyphicon glyphicon-plus"></span><i ng-show="active==$index" class="glyphicon glyphicon-minus"></i></span>
                                                                                        </td>
                                                                                        <td>{{$index+1}}</td>

                                                                                        <td>{{env.serv}}</td>
                                                                                        <td>{{env.softwareComponentName}}</td>
                                                                                        <td style="word-break: break-word;">{{env.role}}</td>
                                                                                        <td>{{env.processName}}</td>
                                                                                        <td><textarea id="txtAreaFailureMode" ng-model="env.failureMode" class="form-control input-sm form-textbox"></textarea></td>
                                                                                        <td><input type="text" id="txtFailureMode" ng-model="env.failureTenet" class="form-control input-sm form-textbox">
                                                                                            </textarea>
                                                                                        </td>

                                                                                        <td ng-repeat="strategy in env.strategies">{{strategy.monkeyStrategy}}</td>

                                                                                    </tr>
                                                                                    </tr>
                                                                                    <tr ng-repeat-end="" ng-show="active==$index" ng-class-odd="'alt'">
                                                                                        <td></td>
                                                                                        <td><span title="{{scenariosFilterModel.id}}.{{appfields.environmentName.name}}{{env.serv}}.{{env.softwareComponentName}}.{{env.processName}}.{{env.failureTenet}}.{{env.failureMode}}"
                                                                                                class="glyphicon glyphicon-info-sign" style="cursor: pointer;"></span></td>
                                                                                        <td class="col-md-3 col-xs-6 small"><label>Current
																								Controls</label>
                                                                                            <textarea ng-model="env.currentControls" class="form-control input-sm form-textbox"></textarea></td>
                                                                                        <td class="col-md-3 col-xs-6 small"><label>Cause of Failure</label><textarea ng-model="env.causeOfFailure" class="form-control input-sm form-textbox" /></td>
                                                                                        <td class="col-md-3 col-xs-6 small"><label>Detection</label><textarea ng-model="env.detection" class="form-control input-sm form-textbox" /></td>
                                                                                        <td class="col-md-3 col-xs-6 small"><label>Recovery Action</label><textarea ng-model="env.recoveryAction" class="form-control input-sm form-textbox" /></td>
                                                                                        <td class="col-md-3 col-xs-6 small"><label>Cause of Failure</label><textarea ng-model="env.causeOfFailure" class="form-control input-sm form-textbox" /></td>
                                                                                        <td class="col-md-3 col-xs-6 small"><label>System Behavior</label><textarea ng-model="env.systemBehavior" class="form-control input-sm form-textbox" /></td>
                                                                                        <td class="col-md-3 col-xs-6 small"><label>User Behavior</label><textarea ng-model="env.userBehavior" class="form-control input-sm form-textbox" /></td>
                                                                                       

                                                                                    </tr>


                                                                                </tbody>
                                                                            </table>
                                                                        </div>

                                                                    </div>
                                                                </div>
                                                            </div>

                                                        </div>
                                                    </div>
                                                </li>
                                </ul>
                                </div>
                                <div id="myBulk" style="float: right; display: table" ng-show="hide">
                                    <div class="row">
                                        <div class="col-xs-12 col-md-12">
                                            <ul class="list-inline pull-right">
                                                <li><button id="submitScenario" ng-disabled="submitScnDisable" class="btn btn-primary" type="button" ng-click="submitBulkScenario()">Submit</button></li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                        </form>
                        </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>








        <div id="myModal" class="modal fade">
            <div class="modal-dialog">
                <div class="modal-content">
                    <!-- dialog body -->
                    <div class="modal-body">
                        <button type="button" class="close" data-dismiss="modal">&times;</button> Success
                    </div>
                    <!-- dialog buttons -->
                    <div class="modal-footer">
                        <p>
                            <h2 ng-bind="scenariosFilterModel.id"></h2> Scenario created successfully.</p>
                        <!-- <button type="button" class="closed" ng-click="scenarioRetainValues()">OK</button> -->
                        <button type="button" id="clickOk" class="closed" data-dismiss="modal" ng-click="scenarioRetainValues()">OK</button>
                    </div>
                </div>
            </div>
        </div>




        <div id="myScenarioPopup" class="modal fade">
            <div class="modal-dialog">
                <div class="modal-content">
                    <!-- dialog body -->
                    <div class="modal-body">
                        <button type="button" class="close" data-dismiss="modal">&times;</button> Success
                    </div>
                    <!-- dialog buttons -->
                    <div class="modal-footer">
                        <p>
                            <h2 ng-bind="scenariosFilterModel.id"></h2> Bulk Scenarios inserted successfully.</p>
                        <button type="button" class="closed" data-dismiss="modal" ng-click="retainAutoDiscovery()">OK</button>
                    </div>
                </div>
            </div>
        </div>

        <div id="resetModal" class="modal fade">
            <div id="" class="modal-dialog" style="width:80%;height:80%">
                <div id="myContent" class="modal-content">

                    <div class="modal-header" style="height:15%"><button type="button" class="close" data-dismiss="modal">&times;</button>
                        <h4 class="modal-title"><span class="glyphicon glyphicon-check"></span>&nbsp; Reset </h4>
                    </div>
                    <div id="strategyBody" class="modal-body">
                        <pre>{{ resetMsg }}</pre>
                    </div>
                    <div class="modal-footer">
                        <button class="btn btn-default" data-dismiss="modal" ng-click="gotoResetForm()">Yes</button>
                        <button class="btn btn-primary" data-dismiss="modal">No</button>
                    </div>
                </div>
            </div>
        </div>
